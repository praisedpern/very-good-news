{"version":3,"sources":["utils/apiGet.js","components/Header.jsx","components/UserCard.jsx","components/DropdownMenu.jsx","components/Navbar.jsx","components/Sorter.jsx","utils/apiPatch.js","components/VoteBar.jsx","components/CommentCard.jsx","components/ArticleCard.jsx","components/Articles.jsx","components/AllTopics.jsx","App.js","contexts/User.js","index.js"],"names":["newsApi","require","default","create","baseURL","process","params","token","Header","to","className","UserCard","user","alt","src","DropdownMenu","topics","useState","isHidden","setIsHidden","onClick","map","topic","slug","Navbar","Sorter","name","value","type","htmlFor","VoteBar","props","addedVotes","setAddedVotes","plusEnabled","setPlusEnabled","minusEnabled","setMinusEnabled","handleVotes","incByAmount","idToUse","patchType","article_id","comment_id","articleId","patch","inc_votes","then","data","console","log","patchVotes","prevVotes","useEffect","title","disabled","votes","created_at","author","CommentCard","comment","body","ArticleCard","article","renderComments","comments","setComments","get","articleComments","Articles","articles","setArticles","useParams","setRenderComments","articleToSet","articlesToSet","AllTopics","App","setTopics","topicsToSet","path","element","UserContext","createContext","UserProvider","children","currentUser","setCurrentUser","allUsers","setAllUsers","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6fd409fe.chunk.js","sourcesContent":["const axios = require('axios').default\nconst TOKEN = process.env.REACT_APP_TOKEN\nconst BASEURL = process.env.REACT_APP_BASEURL\n\nconst newsApi = axios.create({\n    baseURL: BASEURL,\n    params: {\n        token: TOKEN,\n    },\n})\n\nexport const getUsers = () => {\n    return newsApi.get('/users').then(({ data }) => {\n        console.log('GET /users')\n        return data.users\n    })\n}\n\nexport const getTopics = () => {\n    return newsApi.get('/topics').then(({ data }) => {\n        console.log('GET /topics')\n        return data.topics\n    })\n}\n\nexport const getArticles = () => {\n    return newsApi.get('/articles').then(({ data }) => {\n        console.log('GET /articles')\n        return data.articles\n    })\n}\n\nexport const getArticleById = (articleId) => {\n    return newsApi.get(`/articles/${articleId}`).then(({ data }) => {\n        console.log(`GET /articles/${articleId}`)\n        return data.article\n    })\n}\n\nexport const getComments = (articleId) => {\n    return newsApi.get(`/articles/${articleId}/comments`).then(({ data }) => {\n        console.log('GET /articles/:article_id/comments')\n        return data.comments\n    })\n}\n","import { Link } from \"react-router-dom\"\n\nconst Header = () => {\n    return (\n        <Link to=\"/\">\n        <header className=\"App-title\">\n            <h1>Very Good</h1>\n            <h2>News &amp; Commentary Co.</h2>\n        </header>\n        </Link>\n    )\n}\n\nexport default Header\n","const UserCard = ({user}) => {\n    return (\n        <section className=\"App-user-card\">\n            <img alt='User avatar ' src=\"https://media.gq.com/photos/5582cbcb1177d66d68d5912d/master/pass/entertainment-2011-08-mustache-nick-offerman-mustache-96.jpg\" />\n            <p>{user}</p>\n        </section>\n    )\n}\n\nexport default UserCard\n","import { useState } from 'react'\nimport { Link } from 'react-router-dom'\n\nconst DropdownMenu = ({ topics }) => {\n    const [isHidden, setIsHidden] = useState(true)\n\n    return (\n        <div className=\"Dropdown\">\n            <Link\n                to=\"/topics\"\n                onClick={() => {\n                    setIsHidden(() => {\n                        if (isHidden) return false\n                        return true\n                    })\n                }}\n                className=\"Dropdown-title\"\n            >\n                Topics\n            </Link>\n            <div className=\"Dropdown-items\">\n                {topics.map((topic) => {\n                    return (\n                        <Link\n                            to={`/topics/` + topic.slug}\n                            key={topic.slug}\n                            className=\"Dropdown-item\"\n                        >\n                            {topic.slug}\n                        </Link>\n                    )\n                })}\n            </div>\n        </div>\n    )\n}\n\nexport default DropdownMenu\n","import { Link } from 'react-router-dom'\nimport UserCard from './UserCard'\nimport DropdownMenu from './DropdownMenu'\n\nconst Navbar = ({ topics }) => {\n    return (\n        <nav className=\"App-nav\">\n            <>\n                <DropdownMenu topics={topics} />\n            </>\n            <Link to=\"/articles\">Articles</Link>\n            <Link to=\"/comments\">Comments</Link>\n            <UserCard user='grumpy19'/>\n        </nav>\n    )\n}\n\nexport default Navbar\n","const Sorter = () => {\n    return (\n        <section className=\"App-sorter\">\n            Sort by\n            <input name=\"sort_by\" value=\"created_at\" type=\"radio\" />\n            <label htmlFor=\"created_at\">created_at</label>\n            <input name=\"sort_by\" value=\"comment_count\" type=\"radio\" />\n            <label htmlFor=\"comment_count\">comment_count</label>\n            <input name=\"sort_by\" value=\"votes\" type=\"radio\" />\n            <label htmlFor=\"votes\">votes </label>\n            <button>Asc/Desc</button>\n        </section>\n    )\n}\n\nexport default Sorter\n","const axios = require('axios').default\nconst TOKEN = process.env.REACT_APP_TOKEN\nconst BASEURL = process.env.REACT_APP_BASEURL\n\nconst newsApi = axios.create({\n    baseURL: BASEURL,\n    params: {\n        token: TOKEN,\n    },\n})\n\nexport const patchVotes = (articleId, incByAmount, patchType = 'articles') => {\n    return newsApi\n        .patch(`/${patchType}/${articleId}`, {\n            inc_votes: incByAmount,\n        })\n        .then(({ data }) => {\n            console.log(`PATCH /${patchType}/${articleId}`)\n            return data[patchType]\n        })\n}\n","import UserCard from './UserCard'\nimport { useState, useEffect } from 'react'\nimport { patchVotes } from '../utils/apiPatch'\nimport { Link } from 'react-router-dom'\n\nconst VoteBar = ({ props }) => {\n    const [addedVotes, setAddedVotes] = useState(0)\n    const [plusEnabled, setPlusEnabled] = useState(true)\n    const [minusEnabled, setMinusEnabled] = useState(true)\n\n    const handleVotes = (incByAmount) => {\n        let idToUse\n        let patchType\n        if (props.article_id) {\n            patchType = 'articles'\n            idToUse = props.article_id\n        } else {\n            patchType = 'comments'\n            idToUse = props.comment_id\n        }\n        patchVotes(idToUse, incByAmount, patchType)\n        setAddedVotes((prevVotes) => {\n            return prevVotes + incByAmount\n        })\n    }\n\n    useEffect(() => {\n        setPlusEnabled(() => {\n            if (addedVotes === 1) return false\n            else return true\n        })\n        setMinusEnabled(() => {\n            if (addedVotes === -1) return false\n            else return true\n        })\n    }, [addedVotes])\n\n    return (\n        <>\n            <h3><Link to={`/articles/${props.article_id}`}>{props.title}</Link></h3>\n            <p>{props.topic}</p>\n            <section className=\"App-vote-bar\">\n                <button\n                    disabled={!plusEnabled}\n                    onClick={() => {\n                        return handleVotes(1)\n                    }}\n                >\n                    +\n                </button>\n                votes: {props.votes + addedVotes}\n                <button\n                    disabled={!minusEnabled}\n                    onClick={() => {\n                        return handleVotes(-1)\n                    }}\n                >\n                    -\n                </button>\n                posted: {props.created_at}\n                <UserCard user={props.author} />\n            </section>\n        </>\n    )\n}\n\nexport default VoteBar\n","import VoteBar from './VoteBar'\n\nconst CommentCard = ({ comment }) => {\n    return (\n        <section className=\"App-comment-card\">\n            <VoteBar props={comment} />\n            <p>{comment.body}</p>\n        </section>\n    )\n}\n\nexport default CommentCard\n","import CommentCard from './CommentCard'\nimport { getComments } from '../utils/apiGet'\nimport { useState, useEffect } from 'react/cjs/react.development'\nimport VoteBar from './VoteBar'\n\nconst ArticleCard = ({ article, renderComments }) => {\n    const [comments, setComments] = useState([])\n\n    useEffect(() => {\n        if (renderComments) {\n            getComments(article.article_id).then((articleComments) => {\n                setComments(articleComments)\n            })\n        }\n    }, [article.article_id, renderComments ])\n\n    return (\n        <section className=\"App-article-card\">\n            <VoteBar props={article} />\n            <p>{article.body}</p>\n            {comments.map((comment) => {\n                if (!renderComments) return null\n                return (\n                    <CommentCard\n                        key={`comment${comment.comment_id}`}\n                        comment={comment}\n                    />\n                )\n            })}\n        </section>\n    )\n}\n\nexport default ArticleCard\n","import ArticleCard from './ArticleCard'\nimport { getArticles, getArticleById } from '../utils/apiGet'\nimport { useEffect, useState } from 'react'\nimport { useParams } from 'react-router'\n\nconst Articles = ({ topic }) => {\n    const [articles, setArticles] = useState([])\n    const { article_id } = useParams()\n    const [renderComments, setRenderComments] = useState(false)\n\n    useEffect(() => {\n        if (article_id) {\n            getArticleById(article_id).then((articleToSet) => {\n                setArticles([articleToSet])\n                setRenderComments(true)\n            })\n        } else {\n            getArticles().then((articlesToSet) => {\n                setArticles([...articlesToSet])\n                setRenderComments(false)\n            })\n        }\n    }, [article_id, setArticles, setRenderComments])\n\n    return (\n        <main className=\"App-main\">\n            {articles.map((article) => {\n                if (topic && article.topic !== topic) return null\n                return (\n                    <ArticleCard\n                        key={`article${article.article_id}`}\n                        article={article}\n                        renderComments={renderComments}\n                        setRenderComments={setRenderComments}\n                    />\n                )\n            })}\n        </main>\n    )\n}\n\nexport default Articles\n","import { Link } from 'react-router-dom'\n\nconst AllTopics = ({ topics }) => {\n    return topics.map((topic) => {\n        return (\n            <Link key={`all-topics-` + topic.slug} to={`/topics/` + topic.slug}>\n                {topic.slug}\n            </Link>\n        )\n    })\n}\n\nexport default AllTopics\n","import { BrowserRouter, Routes, Route } from 'react-router-dom'\nimport { useState, useEffect } from 'react'\nimport { getTopics } from './utils/apiGet'\n\nimport './App.css'\nimport Header from './components/Header'\nimport Navbar from './components/Navbar'\nimport Sorter from './components/Sorter'\nimport Articles from './components/Articles'\nimport AllTopics from './components/AllTopics'\n\nfunction App() {\n    const [topics, setTopics] = useState([])\n\n    useEffect(() => {\n        getTopics().then((topicsToSet) => {\n            setTopics([...topicsToSet])\n        })\n    }, [])\n\n    return (\n        <BrowserRouter>\n            <div className=\"App\">\n                <div className=\"App-header\">\n                <Header />\n                <Navbar topics={topics} />\n                </div>\n                <Sorter />\n                <Routes>\n                    <Route\n                        path=\"/topics\"\n                        element={<AllTopics topics={topics} />}\n                    />\n                    <Route path=\"/\" element={<Articles />} />\n                    <Route path=\"/articles\" element={<Articles />} />\n                    {topics.map((topic) => {\n                        return (\n                            <Route\n                                key={'topicRoute-' + topic.slug}\n                                path={`/topics/${topic.slug}`}\n                                element={<Articles topic={topic.slug} />}\n                            />\n                        )\n                    })}\n                    <Route\n                        path=\"/articles/:article_id\"\n                        element={<Articles />}\n                    />\n                </Routes>\n            </div>\n        </BrowserRouter>\n    )\n}\n\nexport default App\n","import { createContext, useState } from 'react'\n\nexport const UserContext = createContext()\n\nexport const UserProvider = ({ children }) => {\n    const [currentUser, setCurrentUser] = useState('')\n    const [allUsers, setAllUsers] = useState([])\n\n    return (\n        <UserContext.Provider value={{ currentUser, setCurrentUser, allUsers, setAllUsers }}>\n            {children}\n        </UserContext.Provider>\n    )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport { UserProvider } from './contexts/User'\n\nReactDOM.render(\n    <React.StrictMode>\n        <UserProvider>\n            <App />\n        </UserProvider>\n    </React.StrictMode>,\n    document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}